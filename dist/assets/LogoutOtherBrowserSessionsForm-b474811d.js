import{b as v,T as S,r as d,c as A,w as a,o as t,a as r,h as c,d as n,F as O,g as H,f as e,t as m,e as g,u as l,s as M,n as y}from"./app-03428bbd.js";import{_ as T}from"./InputError-24c156f8.js";import{_ as F}from"./TextInput-2e8454ab.js";const I=e("p",{class:"text-muted mb-0"},"Manage and log out your active sessions on other browsers and devices.",-1),N=e("div",{class:"text-sm text-muted"}," If necessary, you may log out of all of your other browser sessions across all of your devices. Some of your recent sessions are listed below; however, this list may not be exhaustive. If you feel your account has been compromised, you should also update your password. ",-1),U={key:0,class:"mt-5"},j={key:0,width:"30",class:"text-muted",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},E=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"},null,-1),K=[E],P={key:1,width:"30",class:"text-muted",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},$=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 1.5H8.25A2.25 2.25 0 006 3.75v16.5a2.25 2.25 0 002.25 2.25h7.5A2.25 2.25 0 0018 20.25V3.75a2.25 2.25 0 00-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"},null,-1),q=[$],z={class:"ms-3"},D={class:"text-xs"},G={key:0,class:"text-success fw-semibold"},J={key:1},Q={class:"mt-5"},R={key:0,class:"alert alert-success text-success mt-3"},W=e("p",{class:"text-muted"},"Please enter your password to confirm you would like to log out of your other browser sessions across all of your devices.",-1),X={class:"mb-3"},Y={class:"text-end"},te={__name:"LogoutOtherBrowserSessionsForm",props:{sessions:Array},setup(h){const i=v(!1),_=v(null),o=S({password:""}),B=()=>{i.value=!0,setTimeout(()=>_.value.focus(),250)},w=()=>{o.delete(route("other-browser-sessions.destroy"),{preserveScroll:!0,onSuccess:()=>f(),onError:()=>_.value.focus(),onFinish:()=>o.reset()})},f=()=>{i.value=!1,o.reset()};return(Z,u)=>{const k=d("BCardTitle"),b=d("BCardHeader"),p=d("BButton"),x=d("BModal"),C=d("BCardBody"),V=d("BCard");return t(),A(V,{"no-body":""},{default:a(()=>[r(b,null,{default:a(()=>[r(k,null,{default:a(()=>[c("Browser Sessions")]),_:1}),I]),_:1}),r(C,{class:"p-4"},{default:a(()=>[N,h.sessions.length>0?(t(),n("div",U,[(t(!0),n(O,null,H(h.sessions,(s,L)=>(t(),n("div",{key:L,class:"d-flex align-items-center mb-2"},[e("div",null,[s.agent.is_desktop?(t(),n("svg",j,K)):(t(),n("svg",P,q))]),e("div",z,[e("div",null,m(s.agent.platform?s.agent.platform:"Unknown")+" - "+m(s.agent.browser?s.agent.browser:"Unknown"),1),e("div",null,[e("div",D,[c(m(s.ip_address)+", ",1),s.is_current_device?(t(),n("span",G,"This device")):(t(),n("span",J,"Last active "+m(s.last_active),1))])])])]))),128))])):g("",!0),e("div",Q,[r(p,{variant:"danger w-100",type:"button",onClick:B},{default:a(()=>[c("Log Out From Other Browser ")]),_:1}),l(o).recentlySuccessful?(t(),n("p",R,"Logged out of all browser.")):g("",!0)]),r(x,{modelValue:i.value,"onUpdate:modelValue":u[1]||(u[1]=s=>i.value=s),title:"Log Out Other Browser Sessions","hide-footer":"","header-class":"bg-info-subtle p-3"},{default:a(()=>[W,e("div",X,[r(F,{ref_key:"passwordInput",ref:_,modelValue:l(o).password,"onUpdate:modelValue":u[0]||(u[0]=s=>l(o).password=s),type:"password",placeholder:"Password",required:"",autocomplete:"current-password",onKeyup:M(w,["enter"]),class:y({"is-invalid":l(o).errors.password})},null,8,["modelValue","class"]),r(T,{message:l(o).errors.password,class:"mt-2"},null,8,["message"])]),e("div",Y,[r(p,{variant:"danger",onClick:f},{default:a(()=>[c("Close")]),_:1}),r(p,{variant:"success",class:y(["ms-1",{"opacity-25":l(o).processing}]),disabled:l(o).processing,onClick:w},{default:a(()=>[c("Log Out Other Browser Sessions")]),_:1},8,["class","disabled"])])]),_:1},8,["modelValue"])]),_:1})]),_:1})}}};export{te as default};
